---
import { Image } from 'astro:assets';
import profile1 from '../assets/images/ai/profile-1.webp';
import profile2 from '../assets/images/ai/profile-2.webp';
import profile3 from '../assets/images/ai/profile-3.webp';

const steps = [
  {
    num: '01',
    image: profile1,
    alt: 'Architect reviewing construction blueprints and design plans',
    title: 'Design',
    description:
      'We start with a free consultation to understand your vision, lifestyle, and property. You receive a detailed custom design plan before any work begins.',
  },
  {
    num: '02',
    image: profile2,
    alt: 'Craftsman working on premium deck construction',
    title: 'Build',
    description:
      'Our craftsmen bring your design to life using premium materials from Trex, TimberTech, and other trusted brands â€” with meticulous attention to every detail.',
  },
  {
    num: '03',
    image: profile3,
    alt: 'Finished luxury backyard with pool, fireplace, and string lights at twilight',
    title: 'Enjoy',
    description:
      'Step into your new outdoor retreat. Built to withstand the Texas elements and designed to impress, your space is ready for years of relaxation and entertainment.',
  },
];
---

<section class="py-section px-6 md:px-8" id="process">
  <div class="max-w-[1318px] mx-auto">
    <!-- Section Header -->
    <div
      class="text-center mb-20 sm:mb-14 opacity-0"
      x-data
      x-intersect.once="$el.classList.add('animate-fade-up')"
    >
      <div class="section-label justify-center mb-4">
        <span>How It Works</span>
      </div>
      <h2 class="font-display text-[clamp(2.5rem,5vw,3.25rem)] leading-[1.15] tracking-[-0.01em] mb-4">
        From Vision to Reality
      </h2>
      <p class="text-gray-text text-lg max-w-[540px] mx-auto">
        A proven three-step process refined over nearly two decades of building premium outdoor spaces across DFW.
      </p>
    </div>

    <!-- Process Steps -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-10">
      {steps.map((step, i) => (
        <div
          x-data
          x-intersect.once="$el.classList.add('animate-fade-up')"
          class="opacity-0"
          style={`animation-delay: ${(i + 1) * 0.1}s`}
        >
          <!-- Image -->
          <div class="relative overflow-hidden mb-6 group">
            <Image
              src={step.image}
              alt={step.alt}
              class="w-full block transition-transform duration-700 ease-[cubic-bezier(0.16,1,0.3,1)] group-hover:scale-105"
              widths={[400, 600, 800]}
              sizes="(max-width: 768px) 100vw, 33vw"
            />
          </div>

          <!-- Step number + title + description (always visible) -->
          <div class="flex items-baseline gap-4 mb-3">
            <span class="text-accent text-[13px] font-semibold tracking-wider shrink-0">{step.num}</span>
            <h3 class="text-xl font-semibold tracking-tight">{step.title}</h3>
          </div>
          <p class="text-gray-text text-base leading-relaxed pl-10">
            {step.description}
          </p>
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div
      class="text-center mt-16 sm:mt-12 opacity-0"
      x-data
      x-intersect.once="$el.classList.add('animate-fade-up')"
    >
      <a href="#contact" class="btn btn-primary">
        <span>Start With a Free Consultation</span>
      </a>
    </div>
  </div>
</section>
