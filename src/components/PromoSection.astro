---
import { Image } from 'astro:assets';
import img1 from '../assets/images/showcase/IMG_1639.webp';
import img2 from '../assets/images/showcase/IMG_1864.webp';

const features = [
  {
    title: 'Free Design Consultation',
    description:
      'No cost, no obligation. We visit your property, discuss your vision, and provide a detailed design plan.',
    iconPath: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
  },
  {
    title: 'Premium Materials Only',
    description:
      'We build exclusively with industry-leading brands: Trex, TimberTech, Fortress, and other trusted manufacturers.',
    iconStroke: true,
    iconPath: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
  },
  {
    title: 'Licensed & Insured',
    description:
      'Full liability coverage and workers\u2019 comp on every job. Your property and investment are protected.',
    iconStroke: true,
    iconPath: 'M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z',
  },
  {
    title: 'Workmanship Guarantee',
    description:
      'We stand behind every project we complete. If something isn\u2019t right, we make it right.',
    iconStroke: true,
    iconPath: 'M5 13l4 4L19 7',
  },
];
---

<section class="py-section px-6 md:px-8">
  <div class="max-w-[1318px] mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20">
      <!-- Text + Features -->
      <div
        x-data
        x-intersect.once="$el.classList.add('animate-fade-up')"
        class="opacity-0"
      >
        <div class="section-label mb-4">
          <span>Our Guarantee</span>
        </div>
        <h2 class="font-display text-[clamp(2.5rem,5vw,3.25rem)] leading-[1.15] tracking-[-0.01em] mb-12 sm:mb-10">
          What We Stand Behind
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-10">
          {features.map((f) => (
            <div class="group">
              <div class="text-black mb-4">
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  class="opacity-60 group-hover:opacity-100 transition-opacity duration-300"
                >
                  <path d={f.iconPath} />
                </svg>
              </div>
              <h3 class="text-lg font-semibold tracking-tight mb-2">{f.title}</h3>
              <p class="text-gray-text text-[15px] leading-relaxed">{f.description}</p>
            </div>
          ))}
        </div>
      </div>

      <!-- Images: 2-image overlap (original call-action-3 pattern) -->
      <div class="relative mt-[15px] text-end">
        <!-- Large main image — right-aligned -->
        <div
          class="w-[67.38%] ml-auto overflow-hidden transform-gpu"
          x-data
          x-intersect.once="$el.querySelector('img').classList.add('animate-scale-in')"
        >
          <Image
            src={img1}
            alt="Modern pool deck with lounge furniture, fire bowl, and lush landscaping"
            class="w-full scale-[1.2]"
            widths={[400, 600]}
            sizes="(max-width: 1024px) 67vw, 34vw"
          />
        </div>
        <!-- Overlapping image — left side, vertically centered -->
        <div
          class="absolute top-0 left-[54px] w-[41.5%] h-full flex items-center overflow-hidden transform-gpu"
          x-data
          x-intersect.once="$el.querySelector('img').classList.add('animate-scale-in')"
        >
          <Image
            src={img2}
            alt="Rustic outdoor dining table set on a stone patio with wisteria"
            class="w-full scale-[1.2]"
            style="animation-delay: 0.2s"
            widths={[300, 500]}
            sizes="(max-width: 1024px) 42vw, 21vw"
          />
        </div>
      </div>
    </div>
  </div>
</section>
